# Basic loot spawners
# Maintenance loot spawner
- type: entity
  id: ESSpawnerRandomMaintLootStructure
  parent: ESSpawnerBase
  name: Maintenance Loot Structure Spawner
  components:
  - type: Sprite
    layers:
      - state: crate
      - state: random
      - state: maint
      - state: es
      - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceLootStructures

- type: entityTable
  id: ESMaintenanceLootStructures
  table:
    group:
    - group:
      - id: ClosetMaintenanceFilledRandom
        weight: 35
      - id: ESCrateMaintenanceFilledRandom
        weight: 35
      - tableId: LowValueCrateTable
        weight: 15
      - tableId: ESMaintenanceClosetsTertiary
        weight: 5
      - tableId: ESWardrobeTypes
        weight: 5
      - tableId: ESMaintenanceClosetsEmergency
        weight: 5

# Exposed maint loot spawner
- type: entity
  parent: ESSpawnerBase
  id: ESSpawnerRandomMaintLootExposed25
  name: Exposed Maint Loot Spawner
  suffix: ES, 25
  components:
  - type: Sprite
    layers:
    - state: box
    - state: random
    - state: maint
    - state: es
    - state: c25
  - type: EntityTableSpawner
    table:
      tableId: ESMaintLootExposed
      prob: 0.25

- type: entity
  parent: ESSpawnerBase
  id: ESSpawnerRandomMaintLootExposed50
  name: Exposed Maint Loot Spawner
  suffix: ES, 50
  components:
  - type: Sprite
    layers:
    - state: box
    - state: random
    - state: maint
    - state: es
    - state: c50
  - type: EntityTableSpawner
    table:
      tableId: ESMaintLootExposed
      prob: 0.50

- type: entity
  parent: ESSpawnerBase
  id: ESSpawnerRandomMaintLootExposed75
  name: Exposed Maint Loot Spawner
  suffix: ES, 75
  components:
  - type: Sprite
    layers:
    - state: box
    - state: random
    - state: maint
    - state: es
    - state: c75
  - type: EntityTableSpawner
    table:
      tableId: ESMaintLootExposed
      prob: 0.75

- type: entity
  parent: ESSpawnerBase
  id: ESSpawnerRandomMaintLootExposed100
  name: Exposed Maint Loot Spawner
  suffix: ES, 100
  components:
  - type: Sprite
    layers:
    - state: box
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintLootExposed

# Stuff that is more specific but still important
# Random tank spawner
- type: entity
  id: ESSpawnerRandomMaintTank
  parent: ESSpawnerBase
  name: Tank Spawner
  components:
  - type: Sprite
    layers:
    - state: tank
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceTanks

- type: entityTable
  id: ESMaintenanceTanks
  table:
    group:
    - id: WaterTankFull
    - id: WeldingFuelTankFull

# Random maintenance canister spawner
- type: entity
  id: ESSpawnerRandomMaintCanister
  parent: ESSpawnerBase
  name: Maint Canister Spawner
  components:
  - type: Sprite
    layers:
    - state: canister
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      group:
      - tableId: ESMaintenanceCanisters
        weight: 95
      - tableId: ESMaintenanceCanistersBroken
        weight: 5

- type: entity
  id: ESSpawnerRandomMaintCanisterBroken
  parent: ESSpawnerBase
  name: Maint Broken Canister Spawner
  components:
  - type: Sprite
    layers:
    - state: canister-broken
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceCanistersBroken

- type: entityTable
  id: ESMaintenanceCanisters
  table:
    group:
    - group:
      - id: OxygenCanister
      - id: NitrogenCanister
      - id: AirCanister
        weight: 0.5
      - id: StorageCanister
        weight: 0.25
      weight: 90
    - group:
      - id: CarbonDioxideCanister
      - id: WaterVaporCanister
      - id: NitrousOxideCanister
      - id: PlasmaCanister
        weight: 0.25
      weight: 10

- type: entityTable
  id: ESMaintenanceCanistersBroken
  table:
    group:
    - group:
      - id: OxygenCanisterBroken
      - id: NitrogenCanisterBroken
      - id: AirCanisterBroken
        weight: 0.5
      - id: StorageCanisterBroken
        weight: 0.25
      weight: 90
    - group:
      - id: CarbonDioxideCanisterBroken
      - id: WaterVaporCanisterBroken
      - id: NitrousOxideCanisterBroken
      - id: PlasmaCanisterBroken
        weight: 0.25
      weight: 10

# Emergency closets/firelocker spawner
- type: entity
  id: ESSpawnerRandomMaintClosetsEmergency
  parent: ESSpawnerBase
  name: Maint Emergency Closet Spawner
  components:
  - type: Sprite
    layers:
    - state: emergency
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceClosetsEmergency

- type: entityTable
  id: ESMaintenanceClosetsEmergency
  table:
    group:
    - group:
      - id: ClosetEmergencyFilledRandom
        weight: 2
      - id: ClosetFireFilled
        weight: 1
      weight: 95
    - group:
      - id: ClosetEmergency
        weight: 2
      - id: ClosetFire
        weight: 1
      weight: 5

# Tertiary closet spawner (biosuit/tools/radsuit/etc.)
- type: entity
  id: ESSpawnerRandomMaintClosetsTertiary
  parent: ESSpawnerBase
  name: Tertiary Maint Closet Spawner
  components:
  - type: Sprite
    layers:
    - state: biohazard
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceClosetsTertiary

- type: entityTable
  id: ESMaintenanceClosetsTertiary
  table:
    group:
    - group:
      - id: ClosetL3Filled
        weight: 2
      - id: ClosetToolFilled
        weight: 2
      - id: ClosetRadiationSuitFilled
        weight: 1
      weight: 95
    - group:
      - id: ClosetL3
        weight: 2
      - id: ClosetTool
        weight: 2
      - id: ClosetRadiationSuit
        weight: 1
      weight: 5

# Niche special-case variants
# Closet-only maintenance loot spawner
- type: entity
  id: ESSpawnerRandomMaintCloset
  parent: ESSpawnerBase
  name: Maintenance Closet Only Spawner
  components:
  - type: Sprite
    layers:
      - state: closet
      - state: closet_text
        offset: 0, -0.1875
      - state: random
      - state: maint
      - state: es
      - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceLootStructuresClosetOnly

- type: entityTable
  id: ESMaintenanceLootStructuresClosetOnly
  table:
    group:
    - group:
      - id: ClosetMaintenanceFilledRandom
        weight: 75
      - tableId: ESMaintenanceClosetsTertiary
        weight: 5
      - tableId: ESWardrobeTypes
        weight: 5
      - tableId: ESMaintenanceClosetsEmergency
        weight: 5

# Crate-only maintenance loot spawner
- type: entity
  id: ESSpawnerRandomMaintCrate
  parent: ESSpawnerBase
  name: Maintenance Crate Only Spawner
  components:
  - type: Sprite
    layers:
      - state: crate
      - state: crate_text
        offset: 0, -0.1875
      - state: random
      - state: maint
      - state: es
      - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceLootStructuresCrateOnly

- type: entityTable
  id: ESMaintenanceLootStructuresCrateOnly
  table:
    group:
    - group:
      - id: ESCrateMaintenanceFilledRandom
        weight: 70
      - tableId: LowValueCrateTable
        weight: 30

# Tertiary or emergency closet spawner
- type: entity
  id: ESSpawnerRandomMaintClosetsEmergencyOrTertiary
  parent: ESSpawnerBase
  name: Tertiary or Emergency Maint Closet Spawner
  components:
  - type: Sprite
    layers:
    - state: emergency-biohazard
    - state: random
    - state: maint
    - state: es
    - state: c100
  - type: EntityTableSpawner
    table:
      tableId: ESMaintenanceClosetsTertiaryOrEmergency

- type: entityTable
  id: ESMaintenanceClosetsTertiaryOrEmergency
  table:
    group:
    - group:
      - tableId: ESMaintenanceClosetsEmergency
        weight: 3
      - tableId: ESMaintenanceClosetsTertiary
        weight: 1